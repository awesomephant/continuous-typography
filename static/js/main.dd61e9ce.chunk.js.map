{"version":3,"sources":["Section.js","calculateValue.js","Graph.js","Viewport.js","Number.js","PointList.js","SampleText.js","Demo.js","App.js","serviceWorker.js","index.js"],"names":["Section","props","className","title","children","calculateValue","setting","x","i","points","length","currentPoint","nextPoint","y","slope","min","arr","key","forEach","el","max","Graph","w","minY","maxY","minX","maxX","svgEl","useRef","useState","draggingPoint","setDraggingPoint","scaleY","value","scaleX","map","p","pointString","push","unshift","dots","onMouseDown","e","handlePointMouseDown","onMouseUp","cx","cy","r","data-dragging","ref","onMouseMove","normalX","clientX","currentTarget","getBoundingClientRect","width","Math","round","normalY","clientY","height","point","newSetting","updateSetting","updatePoint","xmlns","viewBox","onClick","index","splice","addPoint","x1","viewportWidth","y1","x2","y2","toFixed","displayUnit","Viewport","dragging","setDragging","x0","setX0","w0","setW0","xDelta","setXDelta","handleMouseDown","preventDefault","handleMouseUp","sign","setViewportWidth","style","Number","name","step","type","onChange","changeHandler","parseFloat","PointList","inputs","canDelete","bind","console","log","deletePoint","SampleText","Demo","window","innerWidth","fontSize","setFontSize","lineHeight","setLineHeight","letterSpacing","setLetterSpacing","opticalSize","setOpticalSize","demoStyle","fontVariationSettings","href","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.dd61e9ce.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./css/Section.scss\";\r\n\r\nexport default function Section(props) {\r\n\r\n  return (\r\n    <section className=\"section\">\r\n      <header className=\"section-header\">\r\n        <h3 className=\"section-title\">{props.title}</h3>\r\n      </header>\r\n      <div className=\"section-body\">{props.children}</div>\r\n    </section>\r\n  );\r\n}\r\n","function calculateValue(setting, x) {\r\n    for (let i = 0; i < setting.points.length - 1; i++) {\r\n        let currentPoint = setting.points[i]\r\n        let nextPoint = setting.points[i + 1]\r\n\r\n        if (currentPoint.x === x) {\r\n            return currentPoint.y;\r\n        }\r\n        if (currentPoint.x < x && nextPoint.x > x) {\r\n            // We've found the two points we're between\r\n            let slope = (nextPoint.y - currentPoint.y) / (nextPoint.x - currentPoint.x)\r\n            let y0 = currentPoint.y - slope * currentPoint.x;\r\n            return y0 + x * slope;\r\n        }\r\n    }\r\n    if (x > setting.points[setting.points.length - 1].x) {\r\n        return setting.points[setting.points.length - 1].y;\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport default calculateValue;","import React, { useRef, useState } from \"react\";\r\nimport calculateValue from \"./calculateValue\";\r\nimport \"./css/Graph.scss\";\r\n\r\nfunction min(arr, key) {\r\n  let min = 99999;\r\n  arr.forEach((el) => {\r\n    if (el[key] < min) {\r\n      min = el[key];\r\n    }\r\n  });\r\n  return min;\r\n}\r\nfunction max(arr, key) {\r\n  let max = 0;\r\n  arr.forEach((el) => {\r\n    if (el[key] > max) {\r\n      max = el[key];\r\n    }\r\n  });\r\n  return max;\r\n}\r\n\r\nfunction Graph(props) {\r\n  const h = 75;\r\n  const w = 100;\r\n\r\n  const minY = min(props.setting.points, \"y\");\r\n  const maxY = max(props.setting.points, \"y\");\r\n  const minX = min(props.setting.points, \"x\");\r\n  const maxX = max(props.setting.points, \"x\");\r\n  const svgEl = useRef();\r\n  const [draggingPoint, setDraggingPoint] = useState(false)\r\n\r\n  function addPoint(i, point) {\r\n    let newSetting = { ...props.setting };\r\n    newSetting.points.splice(i, 0, point);\r\n    props.updateSetting(newSetting);\r\n  }\r\n  function updatePoint(i, point) {\r\n    let newSetting = { ...props.setting };\r\n    newSetting.points[i] = point;\r\n    props.updateSetting(newSetting);\r\n  }\r\n\r\n  function scaleY(value) {\r\n    let normalised = (value - minY) / (maxY - minY);\r\n    let scaled = h - normalised * (h);\r\n    return scaled;\r\n  }\r\n  function scaleX(value) {\r\n    let normalised = (value - minX) / (maxX - minX);\r\n    let scaled = normalised * (w);\r\n    return scaled;\r\n  }\r\n\r\n  function handlePointMouseDown(e, i) {\r\n    setDraggingPoint(i)\r\n  }\r\n  function handlePointMouseUp(e, i) {\r\n    setDraggingPoint(false);\r\n  }\r\n  function handleMouseMove(e) {\r\n    if (draggingPoint !== false) {\r\n      const normalX = (e.clientX - e.currentTarget.getBoundingClientRect().x) / e.currentTarget.getBoundingClientRect().width\r\n      const x = Math.round(normalX * (maxX - minX))\r\n      \r\n      const normalY = 1 - (e.clientY - e.currentTarget.getBoundingClientRect().y) / e.currentTarget.getBoundingClientRect().height\r\n      const y = normalY * (maxY - minY) + minY\r\n      \r\n      updatePoint(draggingPoint, { x: x, y: y })\r\n    }\r\n  }\r\n  function handleClick(e) {\r\n    // First we determine what the real x and y values for the new point are\r\n    const normalX = (e.clientX - e.currentTarget.getBoundingClientRect().x) / e.currentTarget.getBoundingClientRect().width\r\n    const x = Math.round(normalX * (maxX - minX))\r\n\r\n    const normalY = 1 - (e.clientY - e.currentTarget.getBoundingClientRect().y) / e.currentTarget.getBoundingClientRect().height\r\n    const y = normalY * (maxY - minY) + minY\r\n\r\n    // Then we find where the point should go in the array\r\n    let index = 0;\r\n    for (let i = 0; i < props.setting.points.length; i++) {\r\n      if (props.setting.points[i].x > x) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let p = {\r\n      x: x,\r\n      y: y\r\n    }\r\n    addPoint(index, p)\r\n  }\r\n\r\n  const points = props.setting.points.map((p) => {\r\n    const x = p.x;\r\n    const y = p.y;\r\n    return { x: scaleX(x), y: scaleY(y) };\r\n  });\r\n\r\n  const pointString = points.map((p) => {\r\n    return `${p.x},${p.y} `;\r\n  });\r\n  pointString.push(`${w}, ${points[points.length - 1].y} `)\r\n  pointString.unshift(`${0}, ${points[0].y} `)\r\n\r\n  const dots = props.setting.points.map((p, i) => {\r\n    return <circle onMouseDown={(e) => handlePointMouseDown(e, i)} onMouseUp={(e) => handlePointMouseUp(e, i)} key={`dot-${i}`} cx={scaleX(p.x)} cy={scaleY(p.y)} r={1.5}></circle>;\r\n  });\r\n  return (\r\n    <div className=\"graph\" data-dragging={draggingPoint ? \"true\" : \"false\"}>\r\n      <svg ref={svgEl} onMouseMove={handleMouseMove} xmlns=\"http://www.w3.org/2000/svg\" viewBox={`0 0 ${w} ${h}`}>\r\n        <rect className=\"graph-background\" onClick={handleClick} x=\"0\" y=\"0\" width={w} height={h}></rect>\r\n        <line className=\"graph-x\"\r\n          x1={scaleX(props.viewportWidth)}\r\n          y1={100}\r\n          x2={scaleX(props.viewportWidth)}\r\n          y2={0}\r\n        ></line>\r\n        <polyline points={pointString}></polyline>\r\n        {dots}\r\n        <circle className=\"graph-value\" key={`dot-value`} cx={scaleX(props.viewportWidth)} cy={scaleY(calculateValue(props.setting, props.viewportWidth))} r={1.5}></circle>\r\n      </svg>\r\n      <span className=\"graph-output\">\r\n      {calculateValue(props.setting, props.viewportWidth).toFixed(3)}{props.setting.displayUnit}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Graph;\r\n","import React, { useState } from \"react\";\r\nimport \"./css/Viewport.scss\";\r\nfunction Viewport(props) {\r\n\r\n  const [dragging, setDragging] = useState(false)\r\n  const [x0, setX0] = useState(0)\r\n  const [w0, setW0] = useState(0)\r\n  const [xDelta, setXDelta] = useState(0)\r\n\r\n  function handleMouseDown(index, e) {\r\n    e.preventDefault()\r\n    setDragging(index)\r\n    setX0(e.clientX)\r\n    setW0(props.width)\r\n  }\r\n  function handleMouseMove(e) {\r\n    let sign = -1;\r\n    if (dragging === \"right\") {\r\n      sign = 1;\r\n    }\r\n    if (dragging){\r\n      setXDelta(e.clientX - x0);\r\n      props.setViewportWidth(w0 + xDelta * (2 * sign))\r\n    }\r\n  }\r\n\r\n  function handleMouseUp() {\r\n    setDragging(false)\r\n    setX0(0)\r\n  }\r\n\r\n  return (\r\n    <div className=\"viewport-container\" onMouseMove={handleMouseMove} onMouseUp={handleMouseUp}>\r\n      <div className=\"viewport\" style={{ width: `${props.width}px` }}>\r\n        <div onMouseDown={(e) => handleMouseDown(\"left\", e)} onMouseUp={handleMouseUp} className=\"resize-handle left\"></div>\r\n        <div className=\"viewport-content\">{props.children}</div>\r\n        <div onMouseDown={(e) => handleMouseDown(\"right\", e)} onMouseUp={handleMouseUp} className=\"resize-handle right\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Viewport;\r\n","import React from \"react\";\r\n\r\nfunction Number(props) {\r\n  function handleChange(e) {\r\n    props.changeHandler(parseFloat(e.currentTarget.value));\r\n  }\r\n\r\n  return (\r\n    <label className={`number ${props.className}`}>\r\n      <span>{props.name}</span>\r\n      <input step={props.step} type=\"number\" onChange={handleChange} value={props.value}></input>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default Number;\r\n","import React from \"react\";\r\nimport Number from \"./Number\";\r\n\r\nfunction PointList(props) {\r\n  function updatePoint(i, key, value) {\r\n    let newSetting = { ...props.setting };\r\n    newSetting.points[i][key] = value;\r\n    props.updateSetting(newSetting);\r\n  }\r\n\r\n  function deletePoint(i) {\r\n    let newSetting = { ...props.setting };\r\n    console.log(i)\r\n    newSetting.points.splice(i, 1);\r\n    props.updateSetting(newSetting);\r\n  }\r\n\r\n  const inputs = props.setting.points.map((p, i) => {\r\n    let canDelete = true;\r\n    if (i === 0 || i === props.setting.points.length - 1 ){\r\n      canDelete = false\r\n    }\r\n    return (\r\n      <li className=\"point\" key={`p-${i}`}>\r\n        <Number\r\n          changeHandler={updatePoint.bind(this, i, \"x\")}\r\n          name={`X${i}`}\r\n          value={p.x}\r\n        ></Number>\r\n        <Number\r\n          changeHandler={updatePoint.bind(this, i, \"y\")}\r\n          name={`Y${i}`}\r\n          value={p.y}\r\n        ></Number>\r\n        {canDelete &&\r\n         <button onClick={(e) => deletePoint(i)} className=\"point-delete\">X</button>\r\n        }\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <ul>{inputs}</ul>\r\n  );\r\n}\r\n\r\nexport default PointList;\r\n","import React from \"react\"\r\n\r\nfunction SampleText() {\r\n    return (\r\n        <>\r\n            <p>\r\n                <strong>When we look</strong> to the individuals of the same variety or sub-variety of our older cultivated plants and animals, one of the first points which strikes us, is, that they generally differ much more from each other, than do the individuals of any one species or variety in a state of nature. When we reflect on the vast diversity of the plants and animals which have been cultivated, and which have varied during all ages under the most different climates and treatment, I think we are driven to conclude that this greater variability is simply due to our domestic productions having been raised under conditions of life not so uniform as, and somewhat different from, those to which the parent-species have been exposed under nature. There is, also, I think, some probability in the view propounded by Andrew Knight, that this variability may be partly connected with excess of food. It seems pretty clear that organic beings must be exposed during several generations to the new conditions of life to cause any appreciable amount of variation; and that when the organisation has once begun to vary, it generally continues to vary for many generations. No case is on record of a variable being ceasing to be variable under cultivation. Our oldest cultivated plants, such as wheat, still often yield new varieties: our oldest domesticated animals are still capable of rapid improvement or modification.\r\n</p>\r\n            <p>\r\n                It has been disputed at what period of life the causes of variability, whatever they may be, generally act; whether during the early or late period of development of the embryo, or at the instant of conception. Geoffroy St. Hilaire's experiments show that unnatural treatment of the embryo causes monstrosities; and monstrosities cannot be separated by any clear line of distinction from mere variations. But I am strongly inclined to suspect that the most frequent cause of variability may be attributed to the male and female reproductive elements having been affected prior to the act of conception. Several reasons make me believe in this; but the chief one is the remarkable effect which confinement or cultivation has on the functions of the reproductive system; this system appearing to be far more susceptible than any other part of the organisation, to the action of any change in the conditions of life. Nothing is more easy than to tame an animal, and few things more difficult than to get it to breed freely under confinement, even in the many cases when the male and female unite. How many animals there are which will not breed, though living long under not very close confinement in their native country! This is generally attributed to vitiated instincts; but how many cultivated plants display the utmost vigour, and yet rarely or never seed! In some few such cases it has been found out that very trifling changes, such as a little more or less water at some particular period of growth, will determine whether or not the plant sets a seed. I cannot here enter on the copious details which I have collected on this curious subject; but to show how singular the laws are which determine the reproduction of animals under confinement, I may just mention that carnivorous animals, even from the tropics, breed in this country pretty freely under confinement, with the exception of the plantigrades or bear family; whereas, carnivorous birds, with the rarest exceptions, hardly ever lay fertile eggs. Many exotic plants have pollen utterly worthless, in the same exact condition as in the most sterile hybrids. When, on the one hand, we see domesticated animals and plants, though often weak and sickly, yet breeding quite freely under confinement; and when, on the other hand, we see individuals, though taken young from a state of nature, perfectly tamed, long-lived, and healthy (of which I could give numerous instances), yet having their reproductive system so seriously affected by unperceived causes as to fail in acting, we need not be surprised at this system, when it does act under confinement, acting not quite regularly, and producing offspring not perfectly like their parents or variable.\r\n</p>\r\n            <p>\r\n                Sterility has been said to be the bane of horticulture; but on this view we owe variability to the same cause which produces sterility; and variability is the source of all the choicest productions of the garden. I may add, that as some organisms will breed most freely under the most unnatural conditions (for instance, the rabbit and ferret kept in hutches), showing that their reproductive system has not been thus affected; so will some animals and plants withstand domestication or cultivation, and vary very slightly—perhaps hardly more than in a state of nature.\r\n</p>\r\n            <p>\r\n                A long list could easily be given of \"sporting plants;\" by this term gardeners mean a single bud or offset, which suddenly assumes a new and sometimes very different character from that of the rest of the plant. Such buds can be propagated by grafting, &c., and sometimes by seed. These \"sports\" are extremely rare under nature, but far from rare under cultivation; and in this case we see that the treatment of the parent has affected a bud or offset, and not the ovules or pollen. But it is the opinion of most physiologists that there is no essential difference between a bud and an ovule in their earliest stages of formation; so that, in fact, \"sports\" support my view, that variability may be largely attributed to the ovules or pollen, or to both, having been affected by the treatment of the parent prior to the act of conception. These cases anyhow show that variation is not necessarily connected, as some authors have supposed, with the act of generation.\r\n</p>\r\n            <p>\r\n                Seedlings from the same fruit, and the young of the same litter, sometimes differ considerably from each other, though both the young and the parents, as Müller has remarked, have apparently been exposed to exactly the same conditions of life; and this shows how unimportant the direct effects of the conditions of life are in comparison with the laws of reproduction, and of growth, and of inheritance; for had the action of the conditions been direct, if any of the young had varied, all would probably have varied in the same manner. To judge how much, in the case of any variation, we should attribute to the direct action of heat, moisture, light, food, &c., is most difficult: my impression is, that with animals such agencies have produced very little direct effect, though apparently more in the case of plants. Under this point of view, Mr. Buckman's recent experiments on plants seem extremely valuable. When all or nearly all the individuals exposed to certain conditions are affected in the same way, the change at first appears to be directly due to such conditions; but in some cases it can be shown that quite opposite conditions produce similar changes of structure. Nevertheless some slight amount of change may, I think, be attributed to the direct action of the conditions of life—as, in some cases, increased size from amount of food, colour from particular kinds of food and from light, and perhaps the thickness of fur from climate.\r\n</p>\r\n            <p>\r\n                Habit also has a decided influence, as in the period of flowering with plants when transported from one climate to another. In animals it has a more marked effect; for instance, I find in the domestic duck that the bones of the wing weigh less and the bones of the leg more, in proportion to the whole skeleton, than do the same bones in the wild-duck; and I presume that this change may be safely attributed to the domestic duck flying much less, and walking more, than its wild parent. The great and inherited development of the udders in cows and goats in countries where they are habitually milked, in comparison with the state of these organs in other countries, is another instance of the effect of use. Not a single domestic animal can be named which has not in some country drooping ears; and the view suggested by some authors, that the drooping is due to the disuse of the muscles of the ear, from the animals not being much alarmed by danger, seems probable.\r\n</p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SampleText;","import React, { useState } from \"react\";\nimport Section from \"./Section\";\nimport Graph from \"./Graph\";\nimport Viewport from \"./Viewport\";\nimport PointList from \"./PointList\";\nimport Number from \"./Number\";\nimport calculateValue from \"./calculateValue\";\nimport SampleText from \"./SampleText\"\n\nimport \"./css/Demo.scss\";\nfunction Demo() {\n\n  const [viewportWidth, setViewportWidth] = useState(window.innerWidth * .5);\n  const [fontSize, setFontSize] = useState({\n    points: [\n      { x: 0, y: 15 },\n      { x: 400, y: 16.2 },\n      { x: 660, y: 18.7 },\n      { x: 960, y: 23.5 },\n      { x: 1400, y: 26.8 },\n      { x: 2000, y: 28 },\n    ],\n    displayUnit: \"px\"\n  });\n  const [lineHeight, setLineHeight] = useState({\n    points: [\n      { x: 0, y: 1.5 },\n      { x: 270, y: 1.42 },\n      { x: 700, y: 1.4 },\n      { x: 1100, y: 1.41 },\n      { x: 1400, y: 1.43 },\n      { x: 2000, y: 1.5 },\n    ],\n    displayUnit: \"\"\n  });\n  const [letterSpacing, setLetterSpacing] = useState({\n    points: [\n      { x: 0, y: .001 },\n      { x: 350, y: -.003 },\n      { x: 1200, y: -.005 },\n      { x: 2000, y: -.01 },\n    ],\n    displayUnit: \"em\"\n  });\n  const [opticalSize, setOpticalSize] = useState({\n    points: [\n      { x: 0, y: 8 },\n      { x: 140, y: 15.6 },\n      { x: 435, y: 22.1 },\n      { x: 960, y: 28.3 },\n      { x: 2000, y: 30 },\n    ],\n    displayUnit: \"\"\n  });\n\n  const demoStyle = {\n    fontSize: `${calculateValue(fontSize, viewportWidth)}px`,\n    lineHeight: `${calculateValue(lineHeight, viewportWidth)}`,\n    letterSpacing: `${calculateValue(letterSpacing, viewportWidth)}em`,\n    fontVariationSettings: `\"opsz\" ${calculateValue(opticalSize, viewportWidth)}`\n  }\n\n  return (\n    <div className=\"demo\">\n      <header className=\"demo-header\">Continuous Typography Tester (<a href=\"https://maxkoehler.com/work/continuous-type-tester/\">Information</a>)</header>\n      <section className=\"settings\">\n        <header className=\"panel-header\">\n          <h2>Settings</h2>\n        </header>\n        <main>\n          <Section title=\"Font Size\">\n            <Graph viewportWidth={viewportWidth} setting={fontSize} updateSetting={setFontSize}></Graph>\n            <PointList updateSetting={setFontSize} setting={fontSize}></PointList>\n          </Section>\n          <Section title=\"Optical Size\">\n            <Graph viewportWidth={viewportWidth} updateSetting={setOpticalSize} setting={opticalSize}></Graph>\n            <PointList updateSetting={setOpticalSize} setting={opticalSize}></PointList>\n          </Section>\n          <Section title=\"Letter Spacing\">\n            <Graph updateSetting={setLetterSpacing} viewportWidth={viewportWidth} setting={letterSpacing}></Graph>\n            <PointList updateSetting={setLetterSpacing} setting={letterSpacing}></PointList>\n          </Section>\n          <Section title=\"Line Height\">\n            <Graph updateSetting={setLineHeight} viewportWidth={viewportWidth} setting={lineHeight}></Graph>\n            <PointList updateSetting={setLineHeight} setting={lineHeight}></PointList>\n          </Section>\n        </main>\n      </section>\n      <section className=\"result\">\n        <Viewport width={viewportWidth} setViewportWidth={setViewportWidth}>\n          <Number className=\"viewport-width\" value={viewportWidth} changeHandler={setViewportWidth}></Number>\n          <div className=\"viewport-copy\" style={demoStyle}>\n            <SampleText></SampleText>\n          </div>\n        </Viewport>\n      </section>\n    </div>\n  );\n}\n\nexport default Demo;\n","import React from \"react\";\nimport Demo from \"./Demo\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Demo />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}